<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Career Readiness Packet — Student Assignment</title>
    <style>
        :root {
            --bg: #0b0c0f;
            --card: #12141a;
            --muted: #aab2c0;
            --text: #e8ecf2;
            --primary: #4f8cff;
            --primary-weak: #2a5bd7;
            --accent: #22b07d;
            --danger: #ff6b6b;
            --border: #1e2230;
            --shadow: 0 6px 24px rgba(0, 0, 0, 0.35), 0 2px 6px rgba(0, 0, 0, 0.25);
        }

        [data-theme="light"] {
            --bg: #f5f5f5;
            --card: #ffffff;
            --muted: #666666;
            --text: #1a1a1a;
            --primary: #0052cc;
            --primary-weak: #003fa3;
            --accent: #28a745;
            --danger: #dc3545;
            --border: #d0d0d0;
            --shadow: 0 2px 8px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);
        }

        [data-theme="high-contrast"] {
            --bg: #000000;
            --card: #ffffff;
            --muted: #333333;
            --text: #ffffff;
            --primary: #00ffff;
            --primary-weak: #00ccff;
            --accent: #00cc00;
            --danger: #ff0000;
            --border: #000000;
            --shadow: 0 2px 4px rgba(255, 255, 255, 0.3);
        }

        html,
        body {
            height: 100%;
        }

        body {
            margin: 0;
            font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
            background: radial-gradient(1200px 800px at 90% -10%, #1a2235 0%, var(--bg) 35%), radial-gradient(1000px 600px at -10% 110%, #16202e 0%, transparent 40%) var(--bg);
            color: var(--text);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            transition: background-color 0.2s, color 0.2s;
        }

        [data-theme="light"] body {
            background: #f5f5f5;
        }

        [data-theme="high-contrast"] body {
            background: #000000;
        }

        .wrap {
            max-width: 960px;
            margin: 32px auto;
            padding: 0 16px;
        }

        header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 12px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .title {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .title h1 {
            font-size: 22px;
            margin: 0;
            letter-spacing: 0.2px;
        }

        .title p {
            margin: 0;
            font-size: 13px;
            color: var(--muted);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: flex-start;
            justify-content: flex-end;
            flex: 1;
        }

        select,
        button {
            background: var(--card);
            color: var(--text);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 10px 12px;
            font-size: 14px;
        }

        button {
            cursor: pointer;
        }

        button.primary {
            background: linear-gradient(180deg, var(--primary) 0%, var(--primary-weak) 100%);
            border: none;
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .card {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.0));
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 14px;
        }

        .section-title {
            margin: 8px 0 6px;
            font-size: 18px;
        }

        p,
        li {
            line-height: 1.55;
        }

        .muted {
            color: var(--muted);
        }

        .grid {
            display: grid;
            gap: 14px;
            grid-template-columns: 1fr;
            margin-bottom: 14px;
        }

        @media (min-width: 860px) {
            .grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        .badge {
            padding: 3px 8px;
            border-radius: 999px;
            background: #1a2332;
            border: 1px solid #213147;
            color: #a8c1ff;
            display: inline-block;
            font-size: 12px;
        }

        .progress {
            height: 8px;
            background: #0f1117;
            border-radius: 999px;
            border: 1px solid var(--border);
            overflow: hidden;
            margin: 16px 0 12px;
        }

        .progress>div {
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, #5fa8ff, #22b07d);
        }

        .checklist {
            list-style: none;
            padding: 0;
            margin: 10px 0 0;
        }

        .checklist li {
            margin: 8px 0;
            padding: 10px 12px;
            border: 1px solid var(--border);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.02);
            display: flex;
            gap: 10px;
            align-items: flex-start;
        }

        .checklist input[type="checkbox"] {
            margin-top: 3px;
            transform: scale(1.1);
        }

        iframe {
            width: 100%;
            aspect-ratio: 16 / 9;
            border: 1px solid var(--border);
            border-radius: 10px;
            margin-top: 8px;
            background: #000;
        }

        .quiz-q {
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 10px;
        }

        .quiz-q legend {
            font-weight: 600;
            padding: 0 4px;
        }

        .quiz-feedback {
            margin-top: 10px;
            padding: 10px 12px;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
            background: rgba(79, 140, 255, 0.12);
            display: none;
        }

        .quiz-feedback.pass {
            border-left-color: var(--accent);
            background: rgba(34, 176, 125, 0.12);
        }

        .quiz-feedback.fail {
            border-left-color: var(--danger);
            background: rgba(255, 107, 107, 0.12);
        }

        .pill {
            font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
            padding: 2px 7px;
            border: 1px solid var(--border);
            border-radius: 999px;
            background: rgba(255, 255, 255, 0.03);
            font-size: 12px;
        }

        .rubric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 10px;
        }

        .rubric-item {
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.02);
        }

        .video-check {
            margin-top: 10px;
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.02);
        }

        .video-check h3 {
            margin: 0 0 8px;
            font-size: 15px;
        }

        .video-check .quick-feedback {
            margin-top: 8px;
            padding: 8px 10px;
            border-left: 4px solid var(--primary);
            border-radius: 6px;
            background: rgba(79, 140, 255, 0.12);
            display: none;
        }

        .video-check .quick-feedback.pass {
            border-left-color: var(--accent);
            background: rgba(34, 176, 125, 0.12);
        }

        .video-check .quick-feedback.fail {
            border-left-color: var(--danger);
            background: rgba(255, 107, 107, 0.12);
        }

        a {
            color: #9fcbff;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        [data-theme="light"] .badge {
            background: #e3f0ff;
            border: 1px solid #b3d9ff;
            color: #0052cc;
        }

        [data-theme="light"] .card {
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.02), rgba(0, 0, 0, 0.0));
        }

        [data-theme="light"] .progress {
            background: #e0e0e0;
            border: 1px solid #d0d0d0;
        }

        [data-theme="light"] .progress>div {
            background: linear-gradient(90deg, #0052cc, #28a745);
        }

        [data-theme="light"] a {
            color: #0052cc;
        }

        [data-theme="high-contrast"] .card {
            background: #000000;
            border: 2px solid #ffffff;
        }

        [data-theme="high-contrast"] .badge {
            background: #000000;
            border: 2px solid #00ffff;
            color: #00ffff;
        }

        [data-theme="high-contrast"] .progress {
            background: #ffffff;
            border: 2px solid #000000;
        }

        [data-theme="high-contrast"] .progress>div {
            background: #00ffff;
        }

        [data-theme="high-contrast"] select,
        [data-theme="high-contrast"] button {
            background: #ffffff;
            color: #000000;
            border: 2px solid #000000;
        }

        [data-theme="high-contrast"] a {
            color: #0000ff;
            text-decoration: underline;
        }

        [data-theme="high-contrast"] .video-check {
            background: #ffffff;
            border: 2px solid #000000;
            color: #000000;
        }

        [data-theme="high-contrast"] .video-check .quick-feedback {
            color: #000000;
        }
    </style>
</head>

<body>
    <div class="wrap">
        <header>
            <div class="title">
                <h1>Career Readiness Packet</h1>
                <p>Student Assignment • Independent + Virtual</p>
            </div>
            <div class="controls">
                <select id="themeSelector" title="Theme">
                    <option value="dark">Dark</option>
                    <option value="light">Light</option>
                    <option value="high-contrast">High Contrast</option>
                </select>
                <button id="resetProgress">Reset Progress</button>
            </div>
        </header>
        <div class="card">
            <div class="badge">Project Goal</div>
            <p><strong>Problem-Centered Task:</strong> You are preparing application materials for a real internship
                opportunity. Create one polished 2-page packet: a combined cover + resume page and a short cover letter
                page.</p>
            <p class="muted">Estimated time: 45 minutes total</p>
            <p class="muted">Submit: <span class="pill">.docx</span> + <span class="pill">.pdf</span> + <span
                    class="pill">150–250 word reflection</span></p>
        </div>

        <div class="card">
            <h2 class="section-title">Learning Path (Merrill's First Principles)</h2>
            <ul>
                <li><strong>Activation:</strong> Connect what you already know about resumes and ATS expectations.</li>
                <li><strong>Demonstration:</strong> Learn from expert video examples and modeled resume choices.</li>
                <li><strong>Application:</strong> Build your own 2-page packet using the required checklist.</li>
                <li><strong>Integration:</strong> Complete the exit ticket and reflection to explain how you will use
                    these skills in real applications.</li>
            </ul>
        </div>

        <div class="card">
            <h2 class="section-title">Activation Warm-Up (2–3 min)</h2>
            <p class="muted">Before watching videos, answer these in your notes:</p>
            <ul>
                <li>What makes a resume easy to read in 10 seconds?</li>
                <li>What school, volunteer, or project experience can you highlight as job-relevant evidence?</li>
            </ul>
        </div>

        <div class="grid">
            <div class="card">
                <h2 class="section-title">Page Requirements</h2>
                <ul>
                    <li><strong>Page 1:</strong> Combined cover + resume page with title, contact details, summary,
                        skills, education, and experience bullets.</li>
                    <li><strong>Page 2:</strong> Short cover letter page (one focused paragraph + professional close).
                    </li>
                </ul>
            </div>

            <div class="card">
                <h2 class="section-title">Must-Show Word Skills</h2>
                <ul>
                    <li>Heading styles and clear section labels</li>
                    <li>Bulleted list with strong action-oriented wording</li>
                    <li>Image inserted with alt text</li>
                    <li>ATS-friendly formatting (simple layout, readable text)</li>
                    <li>Accessibility review + PDF export</li>
                </ul>
            </div>
        </div>

        <div class="card">
            <h2 class="section-title">Success Criteria (What Proficient Looks Like)</h2>
            <ul>
                <li><strong>Page 1:</strong> clear visual hierarchy, clean spacing, ATS-friendly sections, and specific
                    skills/experience bullets.</li>
                <li><strong>Page 2:</strong> professional tone, concise one-paragraph message, and complete
                    closing/signature.</li>
            </ul>
        </div>

        <div class="grid">
            <div class="card">
                <h2 class="section-title">Suggested Pacing (Asynchronous)</h2>
                <ul>
                    <li><strong>Block 1 (10 min):</strong> Watch both videos and complete quick checks.</li>
                    <li><strong>Block 2 (25 min):</strong> Build the 2-page packet using ATS-friendly formatting.</li>
                    <li><strong>Block 3 (10 min):</strong> Run checks, export PDF, and submit.</li>
                </ul>
            </div>

            <div class="card">
                <h2 class="section-title">Example Quality Benchmarks</h2>
                <p><strong>ATS-friendly summary example:</strong></p>
                <p class="muted">High school student seeking internship opportunities with strengths in communication,
                    spreadsheet organization, and project support. Experienced through class projects and volunteer
                    service, with consistent on-time completion and attention to detail.</p>
                <p><strong>Weak vs. strong bullet:</strong></p>
                <p class="muted">Weak: Helped with school event.<br />Strong: Coordinated sign-in and materials for a
                    120-student school event, improving check-in flow and reducing delays.</p>
            </div>
        </div>

        <div class="card">
            <h2 class="section-title">Videos to Watch</h2>
            <p><strong>1) Resume Tips</strong></p>
            <iframe src="https://www.youtube.com/embed/NRTs4HsICI8" title="Resume Tips Video"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen></iframe>
            <p><a href="https://youtu.be/NRTs4HsICI8?si=euoYnZ9CRxK3GwKi" target="_blank" rel="noopener">Open video in
                    YouTube</a></p>

            <div class="video-check" aria-label="Resume video quick check">
                <h3>Quick Check: Resume Tips</h3>
                <form id="resumeQuickCheck">
                    <fieldset class="quiz-q resume-step">
                        <legend>1) About how long did the video say many recruiters spend on an initial resume scan?
                        </legend>
                        <label><input type="radio" name="rq1" value="a" /> Around 10 seconds.</label><br />
                        <label><input type="radio" name="rq1" value="b" /> Around 2 minutes.</label>
                    </fieldset>

                    <fieldset class="quiz-q resume-step">
                        <legend>2) Which formatting choice matches the video guidance?</legend>
                        <label><input type="radio" name="rq2" value="a" /> Add photos and colorful graphics to stand
                            out.</label><br />
                        <label><input type="radio" name="rq2" value="b" /> Keep it clean: standard fonts, consistent
                            headings, no graphics/photos.</label>
                    </fieldset>

                    <fieldset class="quiz-q resume-step">
                        <legend>3) If you have little or no paid experience, what should you include?</legend>
                        <label><input type="radio" name="rq3" value="a" /> Only paid jobs.</label><br />
                        <label><input type="radio" name="rq3" value="b" /> Volunteer work, projects, extracurriculars,
                            and part-time/freelance work.</label>
                    </fieldset>

                    <fieldset class="quiz-q resume-step">
                        <legend>4) How should you tailor skills from a job description?</legend>
                        <label><input type="radio" name="rq4" value="a" /> Use the same language from the posting when
                            it accurately matches your skills.</label><br />
                        <label><input type="radio" name="rq4" value="b" /> Keep one generic resume with no wording
                            changes.</label>
                    </fieldset>

                    <div class="controls" style="margin-top:8px;justify-content:flex-start;">
                        <button type="button" id="resumePrev">Previous</button>
                        <button type="button" id="resumeNext">Next</button>
                        <button type="button" id="gradeResumeQuick" class="primary">Check Answers</button>
                        <span class="muted" id="resumeCounter"></span>
                    </div>
                </form>
                <div id="resumeQuickFeedback" class="quick-feedback"></div>
            </div>

            <p style="margin-top:16px;"><strong>2) ATS (Applicant Tracking System) Tips</strong></p>
            <iframe src="https://www.youtube.com/embed/DksA_vF84JA" title="ATS Tips Video"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen></iframe>
            <p><a href="https://youtu.be/DksA_vF84JA?si=sclhCHE9EIZbfsQH" target="_blank" rel="noopener">Open video in
                    YouTube</a></p>

            <div class="video-check" aria-label="ATS video quick check">
                <h3>Quick Check: ATS Basics</h3>
                <form id="atsQuickCheck">
                    <fieldset class="quiz-q ats-step">
                        <legend>1) In the hiring flow, where does ATS primarily operate?</legend>
                        <label><input type="radio" name="aq1" value="a" /> Between applying and recruiter screening, by
                            scanning and ranking resumes.</label><br />
                        <label><input type="radio" name="aq1" value="b" /> Only after interviews are completed.</label>
                    </fieldset>

                    <fieldset class="quiz-q ats-step">
                        <legend>2) Which formatting choice is most ATS-friendly?</legend>
                        <label><input type="radio" name="aq2" value="a" /> Heavy formatting with tables, columns, icons,
                            and images.</label><br />
                        <label><input type="radio" name="aq2" value="b" /> Simple text-forward layout with clearly
                            labeled sections (Experience, Skills, Education).</label>
                    </fieldset>

                    <fieldset class="quiz-q ats-step">
                        <legend>3) According to the video, which file types are generally safe for ATS submission?
                        </legend>
                        <label><input type="radio" name="aq3" value="a" /> Word document or PDF.</label><br />
                        <label><input type="radio" name="aq3" value="b" /> InDesign or Photoshop native files.</label>
                    </fieldset>

                    <fieldset class="quiz-q ats-step">
                        <legend>4) How should you use job-description keywords?</legend>
                        <label><input type="radio" name="aq4" value="a" /> Add matching keywords only when true, and
                            show them in skills plus experience context.</label><br />
                        <label><input type="radio" name="aq4" value="b" /> Add every keyword even if you do not have the
                            skill.</label>
                    </fieldset>

                    <div class="controls" style="margin-top:8px;justify-content:flex-start;">
                        <button type="button" id="atsPrev">Previous</button>
                        <button type="button" id="atsNext">Next</button>
                        <button type="button" id="gradeAtsQuick" class="primary">Check Answers</button>
                        <span class="muted" id="atsCounter"></span>
                    </div>
                </form>
                <div id="atsQuickFeedback" class="quick-feedback"></div>
            </div>
            <p class="muted">If your LMS/browser blocks embedded playback, use the YouTube links above.</p>
        </div>

        <div class="card">
            <h2 class="section-title">Exit Ticket</h2>
            <p class="muted">One question appears at a time. Use this end-of-activity check to confirm understanding.
            </p>

            <form id="quizForm">
                <fieldset class="quiz-q">
                    <legend>1) Which resume format is generally most ATS-friendly?</legend>
                    <label><input type="radio" name="q1" value="a" /> A two-column design with icons and
                        graphics</label><br />
                    <label><input type="radio" name="q1" value="b" /> A simple one-column layout with clear
                        headings</label><br />
                    <label><input type="radio" name="q1" value="c" /> A design with text embedded in images</label>
                </fieldset>

                <fieldset class="quiz-q">
                    <legend>2) Why should students include keywords from a job posting?</legend>
                    <label><input type="radio" name="q2" value="a" /> To improve ATS matching and
                        relevance</label><br />
                    <label><input type="radio" name="q2" value="b" /> To make the resume longer</label><br />
                    <label><input type="radio" name="q2" value="c" /> To avoid describing their real skills</label>
                </fieldset>

                <fieldset class="quiz-q">
                    <legend>3) Which is best practice for section titles?</legend>
                    <label><input type="radio" name="q3" value="a" /> Use decorative symbols instead of standard
                        labels</label><br />
                    <label><input type="radio" name="q3" value="b" /> Use standard headings like Education, Skills,
                        Experience</label><br />
                    <label><input type="radio" name="q3" value="c" /> Put section titles only in images</label>
                </fieldset>

                <fieldset class="quiz-q">
                    <legend>4) What is one key action after drafting the packet?</legend>
                    <label><input type="radio" name="q4" value="a" /> Skip review and submit immediately</label><br />
                    <label><input type="radio" name="q4" value="b" /> Run accessibility and formatting
                        checks</label><br />
                    <label><input type="radio" name="q4" value="c" /> Remove all headings to make it shorter</label>
                </fieldset>

                <fieldset class="quiz-q">
                    <legend>5) Which content is strongest for a student resume?</legend>
                    <label><input type="radio" name="q5" value="a" /> Vague descriptions without examples</label><br />
                    <label><input type="radio" name="q5" value="b" /> Specific skills and experience from classes,
                        clubs, or volunteer work</label><br />
                    <label><input type="radio" name="q5" value="c" /> Mostly unrelated personal details</label>
                </fieldset>

                <div class="controls" style="justify-content:flex-start;">
                    <button type="button" id="quizPrev">Previous</button>
                    <button type="button" id="quizNext">Next</button>
                    <button type="button" id="gradeQuiz" class="primary">Grade Quiz</button>
                    <span class="muted" id="quizCounter"></span>
                </div>
            </form>

            <div id="quizFeedback" class="quiz-feedback"></div>
        </div>

        <div class="card">
            <h2 class="section-title">Student Self-Checklist</h2>
            <ul class="checklist" id="studentChecklist">
                <li><input type="checkbox" data-key="watch_resume" /> <label>I watched the Resume Tips video.</label>
                </li>
                <li><input type="checkbox" data-key="watch_ats" /> <label>I watched the ATS video.</label></li>
                <li><input type="checkbox" data-key="apply_resume" /> <label>I applied at least 2 resume tips in my
                        document.</label></li>
                <li><input type="checkbox" data-key="apply_ats" /> <label>I applied at least 2 ATS-friendly
                        choices.</label></li>
                <li><input type="checkbox" data-key="doc_two_pages" /> <label>My packet is 2 pages in one
                        document.</label></li>
                <li><input type="checkbox" data-key="has_alt" /> <label>I added alt text to my image.</label></li>
                <li><input type="checkbox" data-key="export_pdf" /> <label>I exported my final packet to PDF.</label>
                </li>
            </ul>
        </div>

        <div class="card">
            <h2 class="section-title">Rubric Summary (100 points)</h2>
            <div class="rubric-grid">
                <div class="rubric-item"><strong>Structure & Completeness</strong><br />25 pts</div>
                <div class="rubric-item"><strong>Word Skills & Formatting</strong><br />30 pts</div>
                <div class="rubric-item"><strong>Professional Writing</strong><br />20 pts</div>
                <div class="rubric-item"><strong>Accessibility & Usability</strong><br />15 pts</div>
                <div class="rubric-item"><strong>Submission & Reflection</strong><br />10 pts</div>
            </div>
        </div>

        <div class="card">
            <h2 class="section-title">Submission</h2>
            <ol>
                <li><span class="pill">Lastname_Firstname_CareerPacket.docx</span></li>
                <li><span class="pill">Lastname_Firstname_CareerPacket.pdf</span></li>
                <li><span class="pill">Lastname_Firstname_Reflection.txt</span> (150–250 words)</li>
            </ol>
            <p class="muted">Reflection prompt: What did you do best? What challenged you most? What would you improve
                for a real application?</p>
        </div>
    </div>

    <script>
        const STORAGE_PREFIX = 'career-packet-web-';
        const THEME_KEY = STORAGE_PREFIX + 'theme';

        const themeSelector = document.getElementById('themeSelector');
        const resetButton = document.getElementById('resetProgress');
        const checklistInputs = Array.from(document.querySelectorAll('#studentChecklist input[type="checkbox"]'));
        const gradeQuizButton = document.getElementById('gradeQuiz');
        const quizFeedback = document.getElementById('quizFeedback');
        const gradeResumeQuickButton = document.getElementById('gradeResumeQuick');
        const gradeAtsQuickButton = document.getElementById('gradeAtsQuick');
        const resumeQuickFeedback = document.getElementById('resumeQuickFeedback');
        const atsQuickFeedback = document.getElementById('atsQuickFeedback');

        const answerMeta = {
            q1: { correct: 'b', note: 'ATS parsers work best with simple one-column layouts and standard headings.' },
            q2: { correct: 'a', note: 'Keywords improve alignment between resume content and job requirements.' },
            q3: { correct: 'b', note: 'Standard section labels help both recruiters and ATS tools parse content.' },
            q4: { correct: 'b', note: 'Quality and accessibility checks prevent avoidable submission issues.' },
            q5: { correct: 'b', note: 'Specific, relevant examples are stronger than vague statements.' }
        };

        const quickChecks = {
            resume: {
                formId: 'resumeQuickCheck',
                feedbackId: 'resumeQuickFeedback',
                answers: { rq1: 'a', rq2: 'b', rq3: 'b', rq4: 'a' },
                notes: {
                    rq1: 'The video emphasizes that many recruiters scan resumes in about 10 seconds.',
                    rq2: 'The guidance is to use clean, consistent formatting and avoid graphics/photos.',
                    rq3: 'The presenter explicitly says volunteer, projects, extracurriculars, and related work count.',
                    rq4: 'Tailoring includes using exact job-description language when it truthfully matches your qualifications.'
                }
            },
            ats: {
                formId: 'atsQuickCheck',
                feedbackId: 'atsQuickFeedback',
                answers: { aq1: 'a', aq2: 'b', aq3: 'a', aq4: 'a' },
                notes: {
                    aq1: 'The video places ATS between application and recruiter screening, where it scans, categorizes, and ranks resumes.',
                    aq2: 'The presenter warns that heavy formatting (icons/tables/columns/images) can reduce ATS readability.',
                    aq3: 'The guidance is to submit a Word doc or PDF; design-tool native files should be converted.',
                    aq4: 'Use keywords honestly: include only real qualifications and demonstrate them in your experience, not just a list.'
                }
            }
        };

        const stepperResets = [];

        function initOneQuestionFlow({ formId, stepSelector, prevId, nextId, counterId, submitId }) {
            const form = document.getElementById(formId);
            const steps = Array.from(form.querySelectorAll(stepSelector));
            const prevBtn = document.getElementById(prevId);
            const nextBtn = document.getElementById(nextId);
            const counter = document.getElementById(counterId);
            const submitBtn = document.getElementById(submitId);
            let index = 0;

            function render() {
                steps.forEach((step, stepIndex) => {
                    step.style.display = stepIndex === index ? 'block' : 'none';
                });

                prevBtn.disabled = index === 0;
                nextBtn.style.display = index === steps.length - 1 ? 'none' : 'inline-block';
                submitBtn.style.display = index === steps.length - 1 ? 'inline-block' : 'none';
                counter.textContent = `Question ${index + 1} of ${steps.length}`;
            }

            prevBtn.addEventListener('click', () => {
                if (index > 0) {
                    index--;
                    render();
                }
            });

            nextBtn.addEventListener('click', () => {
                if (index < steps.length - 1) {
                    index++;
                    render();
                }
            });

            render();
            stepperResets.push(() => {
                index = 0;
                render();
            });
        }

        function loadTheme() {
            const saved = localStorage.getItem(THEME_KEY) || 'dark';
            document.documentElement.setAttribute('data-theme', saved);
            themeSelector.value = saved;
        }

        function saveTheme(value) {
            document.documentElement.setAttribute('data-theme', value);
            localStorage.setItem(THEME_KEY, value);
        }

        function loadChecklist() {
            checklistInputs.forEach((input) => {
                const key = STORAGE_PREFIX + input.dataset.key;
                input.checked = localStorage.getItem(key) === 'true';
            });
        }

        function saveChecklist(input) {
            const key = STORAGE_PREFIX + input.dataset.key;
            localStorage.setItem(key, String(input.checked));
        }

        function gradeQuiz() {
            const form = document.getElementById('quizForm');
            const data = new FormData(form);
            let score = 0;
            let answered = 0;
            const misses = [];

            Object.keys(answerMeta).forEach((key, index) => {
                const value = data.get(key);
                if (value) answered++;
                if (value === answerMeta[key].correct) {
                    score++;
                } else {
                    misses.push({ question: index + 1, note: answerMeta[key].note });
                }
            });

            if (answered < Object.keys(answerMeta).length) {
                quizFeedback.className = 'quiz-feedback fail';
                quizFeedback.style.display = 'block';
                quizFeedback.textContent = 'Please answer all 5 questions before grading.';
                return;
            }

            const passed = score >= 4;
            quizFeedback.className = 'quiz-feedback ' + (passed ? 'pass' : 'fail');
            quizFeedback.style.display = 'block';
            let details = '';
            if (misses.length) {
                details = '<ul>' + misses.map((item) => `<li><strong>Q${item.question}:</strong> ${item.note}</li>`).join('') + '</ul>';
            }

            quizFeedback.innerHTML = passed
                ? `<strong>Great work!</strong> You scored ${score}/5 and passed this optional extra-credit check.${details}`
                : `<strong>Keep going.</strong> You scored ${score}/5. You need 4/5 to pass. Review the notes below and try again.${details}`;
        }

        function gradeQuickCheck(config) {
            const form = document.getElementById(config.formId);
            const feedback = document.getElementById(config.feedbackId);
            const data = new FormData(form);
            const keys = Object.keys(config.answers);
            let score = 0;
            let answered = 0;
            const misses = [];

            keys.forEach((key) => {
                const value = data.get(key);
                if (value) answered++;
                if (value === config.answers[key]) {
                    score++;
                } else if (config.notes && config.notes[key]) {
                    misses.push(config.notes[key]);
                }
            });

            if (answered < keys.length) {
                feedback.className = 'quick-feedback fail';
                feedback.style.display = 'block';
                feedback.textContent = 'Please answer all quick-check questions.';
                return;
            }

            const passed = score === keys.length;
            feedback.className = 'quick-feedback ' + (passed ? 'pass' : 'fail');
            feedback.style.display = 'block';
            const details = misses.length ? '<ul>' + misses.map((note) => `<li>${note}</li>`).join('') + '</ul>' : '';
            feedback.innerHTML = passed
                ? `Nice work! You got ${score}/${keys.length}.`
                : `You got ${score}/${keys.length}. Rewatch key points and try again.${details}`;
        }

        function resetAll() {
            Object.keys(localStorage).forEach((key) => {
                if (key.startsWith(STORAGE_PREFIX)) {
                    localStorage.removeItem(key);
                }
            });
            quizFeedback.style.display = 'none';
            resumeQuickFeedback.style.display = 'none';
            atsQuickFeedback.style.display = 'none';
            loadTheme();
            loadChecklist();
            document.getElementById('quizForm').reset();
            document.getElementById('resumeQuickCheck').reset();
            document.getElementById('atsQuickCheck').reset();
            stepperResets.forEach((resetFn) => resetFn());
        }

        themeSelector.addEventListener('change', (event) => saveTheme(event.target.value));
        checklistInputs.forEach((input) => input.addEventListener('change', () => saveChecklist(input)));
        gradeQuizButton.addEventListener('click', gradeQuiz);
        gradeResumeQuickButton.addEventListener('click', () => gradeQuickCheck(quickChecks.resume));
        gradeAtsQuickButton.addEventListener('click', () => gradeQuickCheck(quickChecks.ats));
        resetButton.addEventListener('click', resetAll);

        initOneQuestionFlow({
            formId: 'resumeQuickCheck',
            stepSelector: '.resume-step',
            prevId: 'resumePrev',
            nextId: 'resumeNext',
            counterId: 'resumeCounter',
            submitId: 'gradeResumeQuick'
        });

        initOneQuestionFlow({
            formId: 'atsQuickCheck',
            stepSelector: '.ats-step',
            prevId: 'atsPrev',
            nextId: 'atsNext',
            counterId: 'atsCounter',
            submitId: 'gradeAtsQuick'
        });

        initOneQuestionFlow({
            formId: 'quizForm',
            stepSelector: '.quiz-q',
            prevId: 'quizPrev',
            nextId: 'quizNext',
            counterId: 'quizCounter',
            submitId: 'gradeQuiz'
        });

        loadTheme();
        loadChecklist();
    </script>
</body>

</html>